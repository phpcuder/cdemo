(function($){$.fn.loopslider=function(options){var $this=this,show_width=$this.width(),show_height=$this.height(),childitem=$this.children(),total_item=childitem.size(),item_width=childitem.width(),item_height=childitem.height(),center=(show_width-item_width)/2,left=0,right=show_width-item_width,arrow='',shownavi=$this.attr('shownavi'),playloop=$this.attr('playloop'),thumbsize=parseInt($this.attr('thumbsize')),scrollnav=$this.attr('scrollnav'),timer=$this.attr('timer'),new_height=item_height-(thumbsize*2);if($this.is(':visible')){if(total_item>=3){childitem.each(function(e){$(this).attr('item',e+1).attr('origin',e+1);if($(this).attr('item')==2){$(this).css({'left':center,'z-index':200})}if($(this).attr('item')==1){$(this).css({'left':left,'z-index':50,'height':new_height,'top':thumbsize}).find('img').css({'height':new_height})}if($(this).attr('item')==3){$(this).css({'left':right,'z-index':100,'height':new_height,'top':thumbsize}).find('img').css({'height':new_height})}arrow+=shownavi==1?'<span slide="'+(e+1)+'" class="'+((e+1)==2?'onslide':'')+'">'+(e+1)+'</span>':''})}function origin(){var is_show=$this.find('a[item="2"]').attr('origin');$('.loopslider-navi span').removeClass('onslide');$('.loopslider-navi span[slide="'+is_show+'"]').addClass('onslide')}function scrollleft(){$this.find('a[item="3"]').css('z-index',200).stop().animate({'left':center,'height':item_height,'top':0},timer,function(){$(this).attr('item',2)}).find('img').stop().animate({'height':item_height},timer);$this.find('a[item="2"]').stop().animate({'left':left,'z-index':50,'height':new_height,'top':thumbsize},timer,function(){$(this).attr('item',1)}).find('img').stop().animate({'height':new_height},timer);$this.find('a[item="1"]').stop().animate({'left':right,'z-index':100,'height':new_height,'top':thumbsize},timer,function(){$(this).attr('item',3)}).find('img').stop().animate({'height':new_height},timer);origin()}function scrollright(){$this.find('a[item="1"]').css('z-index',200).stop().animate({'left':center,'height':item_height,'top':0},timer,function(){$(this).attr('item',2)}).find('img').stop().animate({'height':item_height},timer);$this.find('a[item="3"]').stop().animate({'left':left,'z-index':100,'height':new_height,'top':thumbsize},timer,function(){$(this).attr('item',1)}).find('img').stop().animate({'height':new_height},timer);$this.find('a[item="2"]').stop().animate({'left':right,'z-index':50,'height':new_height,'top':thumbsize},timer,function(){$(this).attr('item',3)}).find('img').stop().animate({'height':new_height},timer);origin()}if(shownavi==1){$(this).css('padding-bottom',25).append('<div class="loopslider-navi">'+arrow+'</div>');$('.loopslider-navi span').click(function(){var slide=$(this).attr('slide');if(slide==3){scrollleft()}else if(slide==1){scrollright()}return false});if(playloop>0){var timers=null;timers=setInterval(function(){if(scrollnav=='left'){$('.loopslider-navi span[slide="3"]').click()}else{$('.loopslider-navi span[slide="1"]').click()}},playloop);if(timers==null){timers=setInterval(function(){if(scrollnav=='left'){$('.loopslider-navi span[slide="3"]').click()}else{$('.loopslider-navi span[slide="1"]').click()}},playloop)}$this.hover(function(){clearInterval(timers);timers=null},function(){timers=setInterval(function(){if(scrollnav=='left'){$('.loopslider-navi span[slide="3"]').click()}else{$('.loopslider-navi span[slide="1"]').click()}},playloop)})}}else{$this.children().click(function(){if($(this).attr('item')==3){scrollleft()}if($(this).attr('item')==1){scrollright()}return false});if(playloop>0){var timers=null;timers=setInterval(function(){if(scrollnav=='left'){$this.find('a[item="3"]').click()}else{$this.find('a[item="1"]').click()}},playloop);if(timers==null){timers=setInterval(function(){if(scrollnav=='left'){$this.find('a[item="3"]').click()}else{$this.find('a[item="1"]').click()}},playloop)}$this.hover(function(){clearInterval(timers);timers=null},function(){timers=setInterval(function(){if(scrollnav=='left'){$this.find('a[item="3"]').click()}else{$this.find('a[item="1"]').click()}},playloop)})}}}}})(jQuery);